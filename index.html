<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Private AI Diary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#111827">
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
    }
    header {
      padding: 16px;
      text-align: center;
      background: #020617;
      font-weight: 600;
      font-size: 18px;
    }
    main {
      padding: 16px;
    }
    button {
      width: 100%;
      padding: 14px;
      margin-top: 12px;
      border: none;
      border-radius: 10px;
      background: #2563eb;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
    textarea {
      width: 100%;
      height: 120px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      resize: none;
      font-size: 15px;
    }
    .entry {
      background: #020617;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 12px;
    }
    .date {
      font-size: 12px;
      opacity: 0.6;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>

<header>ðŸ§  Private AI Diary</header>

<main>
  <textarea id="text" placeholder="Ð—Ð°Ð¿Ð¸ÑˆÐ¸ Ð¼Ñ‹ÑÐ»ÑŒ..."></textarea>
  <button onclick="saveEntry()">Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ</button>

  <div id="entries"></div>
</main>

<script>
let db;

const request = indexedDB.open("DiaryDB", 1);

request.onupgradeneeded = function(e) {
  db = e.target.result;
  db.createObjectStore("entries", { keyPath: "id", autoIncrement: true });
};

request.onsuccess = function(e) {
  db = e.target.result;
  loadEntries();
};

function saveEntry() {
  const text = document.getElementById("text").value.trim();
  if (!text) return;

  const tx = db.transaction("entries", "readwrite");
  const store = tx.objectStore("entries");

  store.add({
    text,
    date: new Date().toLocaleString()
  });

  document.getElementById("text").value = "";
  tx.oncomplete = loadEntries;
}

function loadEntries() {
  const tx = db.transaction("entries", "readonly");
  const store = tx.objectStore("entries");
  const request = store.getAll();

  request.onsuccess = function() {
    const container = document.getElementById("entries");
    container.innerHTML = "";

    request.result.reverse().forEach(entry => {
      const div = document.createElement("div");
      div.className = "entry";
      div.innerHTML = `<div class="date">${entry.date}</div>${entry.text}`;
      container.appendChild(div);
    });
  };
}
<!-- STAGE B: Categories -->
<script>
const categories = [
  "Ð˜Ð¼Ð°Ð½",
  "ÐšÑ€Ð¸Ð¿Ñ‚Ð°",
  "Ð”Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°",
  "Ð—Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ",
  "Ð¡ÐµÐ¼ÑŒÑ",
  "Ð˜Ð´ÐµÐ¸",
  "Ð Ð°Ð±Ð¾Ñ‚Ð°",
  "Ð”ÑƒÑˆÐµÐ²Ð½Ð¾Ðµ"
];

const categorySelect = document.createElement("select");
categorySelect.id = "categorySelect";
categorySelect.style.marginTop = "10px";
categorySelect.style.width = "100%";

categories.forEach(cat => {
  const option = document.createElement("option");
  option.value = cat;
  option.textContent = cat;
  categorySelect.appendChild(option);
});

const textarea = document.querySelector("textarea");
if (textarea) {
  textarea.parentNode.insertBefore(categorySelect, textarea.nextSibling);
}
</script>


</script>

</body>
</html>

